<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Twittler</title>
    <link rel="stylesheet" type="text/css" href="main.css">
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    
    
    <header>Clark's Twittler</header>

    <button>Load Twittles</button>

    <main class="tweet-container">tweet container</main>
  
    <footer>A HackReactor Project</footer>

    <script>

      $(document).ready(function(){       

    //  Button click to load new tweets 
        $('.bigButton').on('click', function() {
          $('main').html('');
          $('.bigButton').text('Load New Twittles');

          var index = streams.home.length - 1;
          while(index >= 0){
            var tweet = streams.home[index];
            var $tweet = $('<div class="single-tweet">' + '<button class="username' + tweet.user + '">' +
              '@' + tweet.user + '</button>' + ': ' + tweet.message + '  ' + tweet.created_at + '</div>');
            $tweet.appendTo('main');
            index -= 1;
          }
        }); 

      /*  var index = streams.users.mracus.length - 1;
          while(index >= 0){
            var tweet = streams.users.mracus[index];
            var $tweet = $('<div class="single-tweet">' + '<span class="username">' +
              '@' + tweet.user + '</span>' + ': ' + tweet.message + '  ' + tweet.created_at + '</div>');
            $tweet.appendTo($body);
            index -= 1;
          } 
        }); */

    
    //  Cick to see only a user's tweets
       $('main').on('click', '.username', function() {
          $('main').html('');
          $(this).closest('.bigButton').text('Back to Home');

          var index = streams.users.mracus.length - 1;
          while(index >= 0){
            var tweet = streams.users.mracus[index];
            var $tweet = $('<div class="single-tweet">' + '<span class="username">' +
              '@' + tweet.user + '</span>' + ': ' + tweet.message + '  ' + tweet.created_at + '</div>');
            $tweet.appendTo('main');
            index -= 1;
          } 
        }); 

      }); // << closes the document.ready function

    </script> 
    


  </body>
</html>
